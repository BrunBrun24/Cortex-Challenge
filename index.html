<!DOCTYPE html>
<html dir="ltr" lang="fr-FR">

<head>
    <meta charset="UTF-8">
    <title>Cortex Challenge</title>
    <!--Fichiers css-->
    <link rel="stylesheet" type="text/css" href="css.css">
    <!-- Charger Pyodide -->
    <script src="https://cdn.jsdelivr.net/pyodide/v0.17.0/full/pyodide.js"></script>
    <!-- Charger CodeMirror -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.62.2/codemirror.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.62.2/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.62.2/mode/python/python.min.js"></script>
</head>

<body>
    <h1>Explications des fonctions utilisées</h1>
    <br>

    <!--On met en place le code de couleur.py-->
    <textarea id="couleur-code" cols="80" rows="10" style="display:none"></textarea>
    <div id="couleur-editor"></div>
    <button onclick="runCouleurCode()">Exécuter le code</button>
    <pre id="couleur-output"></pre>

    <script>
        const couleurEditor = CodeMirror(document.getElementById('couleur-editor'), {
            value: document.getElementById('couleur-code').value,
            mode: 'python',
            lineNumbers: true
        });

        async function runCouleurCode() {
            // Charger Pyodide
            await loadPyodide({ indexURL: "https://cdn.jsdelivr.net/pyodide/v0.17.0/full/" });

            // Obtenir le code Python de l'éditeur
            const code = couleurEditor.getValue();

            // Exécuter le code Python
            pyodide.runPython(code);

            // Afficher la sortie dans la balise <pre> prévue à cet effet
            const output = pyodide.runPython('output');
            
            document.getElementById("reflection-output").textContent = output;
        }

        // Charger le code Python depuis le fichier "reflection.py"
        fetch('Fonctions/couleur.py')
            .then(response => response.text())
            .then(data => {
                document.getElementById('reflection-code').textContent = data;
                couleurEditor.setValue(data);
            });
            
    </script>



    <!--On met en place le code de reflection.py-->
    <textarea id="reflection-code" cols="80" rows="10" style="display:none"></textarea>
    <div id="reflection-editor"></div>
    <button onclick="runReflectionCode()">Exécuter le code</button>
    <pre id="reflection-output"></pre>

    <script>
        const reflectionEditor = CodeMirror(document.getElementById('reflection-editor'), {
            value: document.getElementById('reflection-code').value,
            mode: 'python',
            lineNumbers: true
        });

        async function runReflectionCode() {
            // Charger Pyodide
            await loadPyodide({ indexURL: "https://cdn.jsdelivr.net/pyodide/v0.17.0/full/" });

            // Obtenir le code Python de l'éditeur
            const code = reflectionEditor.getValue();

            // Exécuter le code Python
            pyodide.runPython(code);

            // Afficher la sortie dans la balise <pre> prévue à cet effet
            const output = pyodide.runPython('output');
            
            document.getElementById("reflection-output").textContent = output;
        }

        // Charger le code Python depuis le fichier "reflection.py"
        fetch('Fonctions/reflection.py')
            .then(response => response.text())
            .then(data => {
                document.getElementById('reflection-code').textContent = data;
                reflectionEditor.setValue(data);
            });
            
    </script>